<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-procs docs-version-current docs-doc-page docs-doc-id-superLearners" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">SuperLearner | The SAS Viya Guide</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://criptic.github.io/The-SAS-Viya-Guide/procs/superLearners"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-procs-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-procs-current"><meta data-rh="true" property="og:title" content="SuperLearner | The SAS Viya Guide"><meta data-rh="true" name="description" content="The superLearner proc considers a collection of candidate models (so called base learners) and systematically chooses the best combination of them. This proc is applicable for training and scoring predictive models for continuous and binary response variables."><meta data-rh="true" property="og:description" content="The superLearner proc considers a collection of candidate models (so called base learners) and systematically chooses the best combination of them. This proc is applicable for training and scoring predictive models for continuous and binary response variables."><link data-rh="true" rel="canonical" href="https://criptic.github.io/The-SAS-Viya-Guide/procs/superLearners"><link data-rh="true" rel="alternate" href="https://criptic.github.io/The-SAS-Viya-Guide/procs/superLearners" hreflang="en"><link data-rh="true" rel="alternate" href="https://criptic.github.io/The-SAS-Viya-Guide/procs/superLearners" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"SuperLearner","item":"https://criptic.github.io/The-SAS-Viya-Guide/procs/superLearners"}]}</script><link rel="stylesheet" href="/The-SAS-Viya-Guide/assets/css/styles.4ead92a5.css">
<script src="/The-SAS-Viya-Guide/assets/js/runtime~main.a2b5f025.js" defer="defer"></script>
<script src="/The-SAS-Viya-Guide/assets/js/main.bdc5e5b7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/The-SAS-Viya-Guide/"><b class="navbar__title text--truncate">SAS Viya Guide</b></a><a class="navbar__item navbar__link" href="/The-SAS-Viya-Guide/docs/intro">Guides</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/The-SAS-Viya-Guide/procs/intro">Proc Guide</a><a class="navbar__item navbar__link" href="/The-SAS-Viya-Guide/updates/intro">Updates</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/criptic/the-sas-viya-guide" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/The-SAS-Viya-Guide/procs/intro"><span title="Intro" class="linkLabel_WmDU">Intro</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/The-SAS-Viya-Guide/procs/superLearners"><span title="SuperLearner" class="linkLabel_WmDU">SuperLearner</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/The-SAS-Viya-Guide/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">SuperLearner</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>SuperLearner</h1></header>
<p>The superLearner proc considers a collection of candidate models (so called base learners) and systematically chooses the best combination of them. This proc is applicable for training and scoring predictive models for continuous and binary response variables.</p>
<p>You can find more about this proc in the <a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_toc.htm" target="_blank" rel="noopener noreferrer" class="">SAS Documentation</a>.</p>
<p>The superLearner enables us to train (and score) the super learner models by specifying the base learner models, utilize cross-validation and even utilize meta-learning methods.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="getting-started">Getting Started<a href="#getting-started" class="hash-link" aria-label="Direct link to Getting Started" title="Direct link to Getting Started" translate="no">​</a></h2>
<p>We are going to be starting things of with a minimal example and then build it up from there as we go along. As our dataset we will be working with the HMEQ dataset with the target variable being <em>Bad</em> and the rest are input variables.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-1-data--minimal-proc">Step 1: Data &amp; Minimal Proc<a href="#step-1-data--minimal-proc" class="hash-link" aria-label="Direct link to Step 1: Data &amp; Minimal Proc" title="Direct link to Step 1: Data &amp; Minimal Proc" translate="no">​</a></h3>
<p>Here is the code to load the HMEQ dataset into the work library - all the subsequent code will assume that the data is available there.</p>
<div class="language-sas codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sas codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">* Getting the HMEQ dataset;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">data</span><span class="token plain"> work</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">hmeq</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">set</span><span class="token plain"> sampsio</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">hmeq</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">run</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<p>Now let us first look at the minimal version of proc superLearner, then we will go through each line and discuss the results. The order of statements choosen can be changed and was only chosen in order to provide as much clarity as possible.</p>
<div class="language-sas codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sas codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token step keyword" style="font-style:italic">proc superLearner</span><span class="token plain"> </span><span class="token proc-args arg keyword" style="font-style:italic">data</span><span class="token proc-args"> </span><span class="token proc-args operator" style="color:rgb(137, 221, 255)">=</span><span class="token proc-args"> </span><span class="token proc-args arg-value">work.hmeq</span><span class="token proc-args punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    target bad </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> level </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> nominal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token input keyword" style="font-style:italic">input</span><span class="token input"> loan;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Decision_Tree&#x27;</span><span class="token plain"> treeSplit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Logistic_Regression_Model&#x27;</span><span class="token plain"> logSelect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">quit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<ol>
<li class="">In the <em>proc superLearner</em> statement we only have to provide one option and that is our input dataset. Our value here is <em>work.hmeq</em>.</li>
<li class="">In order to be able to train a predictive model we have to specify our target variable using the <em>target</em> statement. We can only specify one target variable. The proc tries to determine the target level using the variable type: numeric defaults to interval and character defaults to nominal. By specifing the statement options after slash (/) we can overwrite this (note that interval variables can only be numeric). Our value here is <em>bad</em> and then we have to specify that the <em>level</em> option and set it to <em>nominal</em>, since it only contains 0 and 1.</li>
<li class="">In addition to a target we also need the inputs that should be considered for training the model. We need to provide at least input variable. The level of the variable is determined in the same way as the target. There can be multiple <em>input</em> statements - I&#x27;m going to suggest to have a maxium of two where we split the nominal and interval inputs. Our value here is <em>loan</em>, since it is a numeric variable it will be treated as an interval which is exactly what we want.</li>
<li class="">Now we are getting into the base learners that represents the list of the different models that are assesst by the super learner model. We need to specify at least two <em>baseLearner</em> statements in order for the proc to run. The <em>baseLearner</em> statement starts with a quoted label - the value of this label should be a valid SAS variable name, as the label is used in an output table - and is followed by the algorithm used to train this base learner. We can add additional options as well, but here we are just running with the defaults. Our value here is for the label <em>&#x27;Decision_Tree&#x27;</em> and the algorithm used is <em>treeSplit</em>.</li>
<li class="">Our value here is for the label <em>&#x27;Logistic_Regression_Model&#x27;</em> and the algorithm used is <em>logSelect</em>.</li>
</ol>
<p>And now let us look at the results - please note since we didn&#x27;t provide a seed value the results might look sighlty different for you:</p>
<p><img decoding="async" loading="lazy" alt="Super Learners Step 1" src="/The-SAS-Viya-Guide/assets/images/SuperLearner-Step-1-2ecf32668430b0b90c71e82e95b9ae31.png" width="669" height="493" class="img_ev3q"></p>
<p>The output consists of three tables - the list below is in order and does not correspond to the numbers in the screenshot:</p>
<ol>
<li class="">Model Information, which summaries the overall information about the super learner model.</li>
<li class="">Number of Observations, contains information about the number of obersvations that were read and used during training.</li>
<li class="">Super Learner Model Coefficients, contains the information about the coefficients for each of the base learners.</li>
</ol>
<p>Now we are going to talk about the numbers in the screenshot</p>
<ol>
<li class="">Here we see on a quick glance the data source that was used, the target variable and its level.</li>
<li class="">The number of folds specifies how many partition folds for the cross validation where used and how many base learners where used.</li>
<li class="">The log loss function depends on the target variable (log loss if it is binary and for continuous once squared loss is used). The meta-learning method documents which method was used here more of this in a later step. And finally the seed, if the value is below one, than the systems timestamp is used.</li>
<li class="">Here we see the coefficient of each base learner in one place.</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-2-more-inputs--base-learners">Step 2: More Inputs &amp; Base Learners<a href="#step-2-more-inputs--base-learners" class="hash-link" aria-label="Direct link to Step 2: More Inputs &amp; Base Learners" title="Direct link to Step 2: More Inputs &amp; Base Learners" translate="no">​</a></h3>
<p>In this we will do two things:</p>
<ol>
<li class="">We are going to learn about all the different base learners available to us.</li>
<li class="">We are going to expand the input variables and the run our code.</li>
</ol>
<p>So first up let&#x27;s talk about the different base learners that are available to us utilizing this table:</p>
<table><thead><tr><th>Group</th><th>Name</th><th>Description</th><th>Link</th></tr></thead><tbody><tr><td>Statistics</td><td>BART</td><td>Bayesian additive regression trees model</td><td><a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax02.htm#casstat.superlearner.bart_model" target="_blank" rel="noopener noreferrer" class="">Option Link</a></td></tr><tr><td>Machine Learning</td><td>BNET</td><td>Bayesian network model</td><td><a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax02.htm#casstat.superlearner.bnet_model" target="_blank" rel="noopener noreferrer" class="">Option Link</a></td></tr><tr><td>Machine Learning</td><td>FACTMAC</td><td>Factorization machine model</td><td><a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax02.htm#casstat.superlearner.factmac_model" target="_blank" rel="noopener noreferrer" class="">Option Link</a></td></tr><tr><td>Machine Learning</td><td>FOREST</td><td>Forest model</td><td><a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax02.htm#casstat.superlearner.forest_model" target="_blank" rel="noopener noreferrer" class="">Option Link</a></td></tr><tr><td>Statistics</td><td>GAMMOD</td><td>Generalized additive model based on low-rank regression splines</td><td><a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax02.htm#casstat.superlearner.gammod_model" target="_blank" rel="noopener noreferrer" class="">Option Link</a></td></tr><tr><td>Statistics</td><td>GAMSELECT</td><td>Generalized additive model with model selection</td><td><a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax02.htm#casstat.superlearner.gamselect_model" target="_blank" rel="noopener noreferrer" class="">Option Link</a></td></tr><tr><td>Machine Learning</td><td>GPCLASS</td><td>Gaussian process classification model</td><td><a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax02.htm#casstat.superlearner.gpclass_model" target="_blank" rel="noopener noreferrer" class="">Option Link</a></td></tr><tr><td>Machine Learning</td><td>GPREG</td><td>Gaussian process regression model</td><td><a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax02.htm#casstat.superlearner.gpreg_model" target="_blank" rel="noopener noreferrer" class="">Option Link</a></td></tr><tr><td>Machine Learning</td><td>GRADBOOST</td><td>Gradient boosting model</td><td><a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax02.htm#casstat.superlearner.gradboost_model" target="_blank" rel="noopener noreferrer" class="">Option Link</a></td></tr><tr><td>Machine Learning</td><td>LIGHTGRADBOOST</td><td>Light gradient boosting machine model</td><td><a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax02.htm#casstat.superlearner.lightgradboost_model" target="_blank" rel="noopener noreferrer" class="">Option Link</a></td></tr><tr><td>Statistics</td><td>LOGSELECT</td><td>Logistic regression model with model selection</td><td><a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax02.htm#casstat.superlearner.logselect_model" target="_blank" rel="noopener noreferrer" class="">Option Link</a></td></tr><tr><td>Machine Learning</td><td>NNET</td><td>Artificial neural network model</td><td><a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax02.htm#casstat.superlearner.nnet_model" target="_blank" rel="noopener noreferrer" class="">Option Link</a></td></tr><tr><td>Statistics</td><td>REGSELECT</td><td>Ordinary least squares regression model with model selection</td><td><a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax02.htm#casstat.superlearner.regselect_model" target="_blank" rel="noopener noreferrer" class="">Option Link</a></td></tr><tr><td>Machine Learning</td><td>SVMACHINE</td><td>Support vector machine model</td><td><a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax02.htm#casstat.superlearner.svmachine_model" target="_blank" rel="noopener noreferrer" class="">Option Link</a></td></tr><tr><td>Statistics</td><td>TREESPLIT</td><td>Tree-based statistical model</td><td><a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax02.htm#casstat.superlearner.treesplit_model" target="_blank" rel="noopener noreferrer" class="">Option Link</a></td></tr></tbody></table>
<p>Each of these base learners has their own set of options that are used to tune the model. If you are familiar with the corresponding procs (each base learner has as proc with the same name) than you will note that not all of the options are available here. In order to extend our code we will be adding Light Gradient Boosting and Neural Network base learner to our code example.</p>
<p>Now we are going to switch gears to add some additional inputs to our superLearner. We are going to be adding the reason and job which are character and thus will be classified as nominal inputs, but we will make that explicit in the code just so we get a feeling for it. And then we will also be adding the derog, debtinc and delinq which are all numeric and also interval inputs. Just as an exercise we will also declare derog as nominal. We are going to be doing this by creating two input statements one where we specify the level to be nominal and one where it is set to interval. Setting the interval isn&#x27;t strictly necessary but I think it is a good practise to increase readability.</p>
<div class="language-sas codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sas codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token step keyword" style="font-style:italic">proc superLearner</span><span class="token plain"> </span><span class="token proc-args arg keyword" style="font-style:italic">data</span><span class="token proc-args"> </span><span class="token proc-args operator" style="color:rgb(137, 221, 255)">=</span><span class="token proc-args"> </span><span class="token proc-args arg-value">work.hmeq</span><span class="token proc-args punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    target bad </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> level </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> nominal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    input loan debtinc delinq </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> level </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    input job reason derog </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> level </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> nominal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Decision_Tree&#x27;</span><span class="token plain"> treeSplit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Logistic_Regression_Model&#x27;</span><span class="token plain"> logSelect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Light_Gradient_Boosting&#x27;</span><span class="token plain"> lightGradBoost</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Neural_Network&#x27;</span><span class="token plain"> nNet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">quit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<p>Please note this code will create warnings in the log, while we can safely ignore this I want to note that this is primarily caused by our classification of derog as a nominal input as it contains missing values.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-3-options-for-the-base-learners">Step 3: Options for the Base Learners<a href="#step-3-options-for-the-base-learners" class="hash-link" aria-label="Direct link to Step 3: Options for the Base Learners" title="Direct link to Step 3: Options for the Base Learners" translate="no">​</a></h3>
<p>We are now going to reduce the amount of base learners again back down to our original two and just change one option for each of them. This is just so we get a feeling for how this is done, if you are interested in diving deeper into the details than utilize the table above and follow the option links to dive into the specific details of all base learner options. The model options follow the model and are enclosed in parenthesis.</p>
<p>First up is our treeSplit base learner which has four total options (criterion, degree, minLeafSize and numBin) + the input options which we are going to touch in a moment. So below we are just going to look at the base learner statement. The two options we are going to look at are the <em>criterion</em> (i.e. when to split a parent node into a child node) and <em>numBin</em> (i.e. how many bins are used for interval inputs).</p>
<div class="language-sas codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sas codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">* This is the version that contains the default values assigned by proc superLearner;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Decision_Tree&#x27;</span><span class="token plain"> treeSplit </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">criterion </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> IGR numBin </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">50</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">* Here is our changed version;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Decision_Tree&#x27;</span><span class="token plain"> treeSplit </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">criterion </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> GINI numBin </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<p>And now we are taking a look at the logSelect base learner which has seven total options (lassoRho, lassoSteps, lassoTol, link, partByFrac, partByVar and selection) + the input options. We are again only be changing two options this time the</p>
<div class="language-sas codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sas codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">* This is the version that contains the default values assigned by proc superLearner;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Logistic_Regression_Model&#x27;</span><span class="token plain"> logSelect </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">link </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> logit selection </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> none</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">* Here is our changed version;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Logistic_Regression_Model&#x27;</span><span class="token plain"> logSelect </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">link </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> probit selection </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> elasticNet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<p>Finally let us talk about the input options mentioned above. After the model options we can also specify the input option which enable us to change, add or remove variables for a certain base learner. There are two available and that is <em>intInput</em> (for interval) and <em>nomInput</em> (for nominal). Note that there are base learners that call these <em>class</em> and <em>effect</em> instead (e.g. logSelect) and some base learners only support interval inputs so correspondingly they only support the <em>intInput</em> option. The list of variables need to be enclosed in parantheses. We are going to remove one of the inputs for our <em>treeSplit</em> base learner.</p>
<p>Here is our updated code:</p>
<div class="language-sas codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sas codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token step keyword" style="font-style:italic">proc superLearner</span><span class="token plain"> </span><span class="token proc-args arg keyword" style="font-style:italic">data</span><span class="token proc-args"> </span><span class="token proc-args operator" style="color:rgb(137, 221, 255)">=</span><span class="token proc-args"> </span><span class="token proc-args arg-value">work.hmeq</span><span class="token proc-args punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    target bad </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> level </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> nominal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    input loan debtinc delinq </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> level </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    input job reason </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> level </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> nominal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Decision_Tree&#x27;</span><span class="token plain"> treeSplit </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">criterion </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> GINI numBin </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> intInput </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">loan debtinc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Logistic_Regression_Model&#x27;</span><span class="token plain"> logSelect </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">link </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> probit selection </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> elasticNet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">quit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-4-crossvalidation-margins-and-proc-options">Step 4: Crossvalidation, Margins and Proc Options<a href="#step-4-crossvalidation-margins-and-proc-options" class="hash-link" aria-label="Direct link to Step 4: Crossvalidation, Margins and Proc Options" title="Direct link to Step 4: Crossvalidation, Margins and Proc Options" translate="no">​</a></h3>
<p>Now are going to touch on even more customization options but without going into the details of that.</p>
<p>The <em>crossValidation</em> statement enables us to change the number of partition folds in the cross validation (minimum of two) and it enables us to use categorical variable to do stratified cross-validation. To learn more check out the <a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax18.htm" target="_blank" rel="noopener noreferrer" class="">SAS Documentation</a>.</p>
<p>The <em>margin</em> statement enables us to obtain a predictive margin by fixing one or more values of inputs. To learn more check out the <a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax20.htm" target="_blank" rel="noopener noreferrer" class="">SAS Documentation</a>. The label provided should be a valid SAS variable name.</p>
<p>Proc superLearner itself also has some additional options, besides data:</p>
<ul>
<li class="">method, enables us to change the meta-learning method.</li>
<li class="">seed, enables us to set the start for the pseudorandom number generator for k-fold partioning and base learner model building.</li>
<li class="">applyWordOrder, enables us to simulate latent variables - this is only available for tables that are stored in CAS.</li>
<li class="">reStore, enables us to load a previously trained superLearner to score new data. More about this in the next section.</li>
</ul>
<p>For more information on the proc options check out the <a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax01.htm" target="_blank" rel="noopener noreferrer" class="">SAS Documentation</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-5-outputs-storing-and-scoring">Step 5: Outputs, Storing and Scoring<a href="#step-5-outputs-storing-and-scoring" class="hash-link" aria-label="Direct link to Step 5: Outputs, Storing and Scoring" title="Direct link to Step 5: Outputs, Storing and Scoring" translate="no">​</a></h3>
<p>The <em>output</em> statement enables us to save the predicted values from the fitted model. In addition we can also retrieve the predicted response for each trained base learner and if the <em>margin</em> statement was used we can get the results for each secanrio. By default only the predicted values are stored in the output table so that the option <em>copyVars</em> is available to specify the columns that you want to store along with the output. If you have a key column (or multiples) it is a good idea to only copy those in order to reduce data movement (e.g. copyVars = (id inquiry_date)), if that is not the case you can also use this shortcut to copy all of the variables - for more information check out the <a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax21.htm" target="_blank" rel="noopener noreferrer" class="">SAS Documentation</a>:</p>
<div class="language-sas codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sas codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token step keyword" style="font-style:italic">proc superLearner</span><span class="token plain"> </span><span class="token proc-args arg keyword" style="font-style:italic">data</span><span class="token proc-args"> </span><span class="token proc-args operator" style="color:rgb(137, 221, 255)">=</span><span class="token proc-args"> </span><span class="token proc-args arg-value">work.hmeq</span><span class="token proc-args punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    target bad </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> level </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> nominal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token input keyword" style="font-style:italic">input</span><span class="token input"> loan;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Decision_Tree&#x27;</span><span class="token plain"> treeSplit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Logistic_Regression_Model&#x27;</span><span class="token plain"> logSelect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">output</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">out</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> work</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">hmeq_scored copyVars </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_all_</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">quit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<p>The <em>store</em> statement enables us to store the trained super learner model as a binary astore (analytical store) file that can be used to score new data. Below we are going to augment our training code and the below we will have our scoring code. In order for this to work we need to provide a path on the SAS Server where this data is stored across SAS session - for more information check out the <a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_syntax22.htm" target="_blank" rel="noopener noreferrer" class="">SAS Documentation</a>:</p>
<div class="language-sas codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sas codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* Start training code */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">* Specify the full path on the SAS Server;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro-keyword keyword" style="font-style:italic">%let</span><span class="token plain"> basePath </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">path</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">to</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">a</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">folder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">data</span><span class="token plain"> work</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">hmeq</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">set</span><span class="token plain"> sampsio</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">hmeq</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">run</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">libname</span><span class="token plain"> super </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&amp;basePath.&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">filename</span><span class="token plain"> modelStr </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&amp;basePath./superLearner.sasast&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">proc superLearner</span><span class="token plain"> </span><span class="token proc-args arg keyword" style="font-style:italic">data</span><span class="token proc-args"> </span><span class="token proc-args operator" style="color:rgb(137, 221, 255)">=</span><span class="token proc-args"> </span><span class="token proc-args arg-value">work.hmeq</span><span class="token proc-args punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    target bad </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> level </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> nominal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    input loan debtinc delinq </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> level </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    input job reason </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> level </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> nominal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Decision_Tree&#x27;</span><span class="token plain"> treeSplit </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">criterion </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> GINI numBin </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> intInput </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">loan debtinc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Logistic_Regression_Model&#x27;</span><span class="token plain"> logSelect </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">link </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> probit selection </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> elasticNet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">output</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">out</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> work</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">results copyvars</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_all_</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    store </span><span class="token keyword" style="font-style:italic">out</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> super</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">superLearnerModel</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">quit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">* Download the analytica store file to the library;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">proc aStore</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   download rStore </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> super</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">superLearnerModel store </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> modelStr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">quit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* End of training code */</span><br></span></code></pre></div></div>
<p>Now we have to reset our SAS session to pretend that time has passed and we are coming back to it to score data:</p>
<div class="language-sas codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sas codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* Start of score code */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">* Specify the full path on the SAS Server;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro-keyword keyword" style="font-style:italic">%let</span><span class="token plain"> basePath </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">path</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">to</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">a</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">folder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">data</span><span class="token plain"> work</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">hmeq</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">set</span><span class="token plain"> sampsio</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">hmeq</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">run</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">libname</span><span class="token plain"> super </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&amp;basePath.&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">filename</span><span class="token plain"> modelStr </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&amp;basePath./superLearner.sasast&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">proc aStore</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    upload store </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> modelStr rStore </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> super</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">superLearnerModel</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">quit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">proc superLearner</span><span class="token plain"> </span><span class="token proc-args arg keyword" style="font-style:italic">data</span><span class="token proc-args"> </span><span class="token proc-args operator" style="color:rgb(137, 221, 255)">=</span><span class="token proc-args"> </span><span class="token proc-args arg-value">work.hmeq</span><span class="token proc-args"> </span><span class="token proc-args arg keyword" style="font-style:italic">reStore</span><span class="token proc-args"> </span><span class="token proc-args operator" style="color:rgb(137, 221, 255)">=</span><span class="token proc-args"> </span><span class="token proc-args arg-value">super.superLearnerModel</span><span class="token proc-args punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">output</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">out</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> work</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">hmeq_scored copyVars </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_all_</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">quit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* End score code */</span><br></span></code></pre></div></div>
<p>And with that we conclude our exploration of proc superLearners. There is some additional below to dive even deeper. If you are interested in more of the statistical details of the proc check out the details section in the <a href="https://go.documentation.sas.com/doc/en/pgmsascdc/default/casstat/casstat_superlearner_details.htm" target="_blank" rel="noopener noreferrer" class="">SAS Documentation</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="additional-topics">Additional topics<a href="#additional-topics" class="hash-link" aria-label="Direct link to Additional topics" title="Direct link to Additional topics" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="getting-the-result-tables-as-sas-tables">Getting the Result Tables as SAS Tables<a href="#getting-the-result-tables-as-sas-tables" class="hash-link" aria-label="Direct link to Getting the Result Tables as SAS Tables" title="Direct link to Getting the Result Tables as SAS Tables" translate="no">​</a></h3>
<p>Below you find a ready to use <em>ods output</em> statement that grabs all of the result tables. If you want to learn how this code was generated please check out this <a class="" href="/The-SAS-Viya-Guide/docs/quick-tips/ods-result-tables-as-tables">Quick Tip</a>.</p>
<div class="language-sas codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sas codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token step keyword" style="font-style:italic">proc superLearner</span><span class="token plain"> </span><span class="token proc-args arg keyword" style="font-style:italic">data</span><span class="token proc-args"> </span><span class="token proc-args operator" style="color:rgb(137, 221, 255)">=</span><span class="token proc-args"> </span><span class="token proc-args arg-value">work.hmeq</span><span class="token proc-args punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    target bad </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> level </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> nominal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token input keyword" style="font-style:italic">input</span><span class="token input"> loan;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Decision_Tree&#x27;</span><span class="token plain"> treeSplit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baselearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Logistic_Regression_Model&#x27;</span><span class="token plain"> logSelect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">ods</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">output</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ModelInfo </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> work</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">ModelInfo</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        NObs </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> work</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">NObs</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        SLCoefficients </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> work</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">SLCoefficients</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Margins </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> work</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Margins</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        OutputCasTables </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> work</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">outputCASTables</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ScoreInfo </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> work</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">ScoreInfo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">quit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<p>Please note the following table about which outputs are available when:</p>
<table><thead><tr><th>Name</th><th>Requirements</th></tr></thead><tbody><tr><td>ModelInfo</td><td>Default output</td></tr><tr><td>NObs</td><td>Default output</td></tr><tr><td>SLCoefficients</td><td>Default output</td></tr><tr><td>Margins</td><td>The margin statement needs to be provided</td></tr><tr><td>OutputCasTables</td><td>The output/store statement needs to be provided</td></tr><tr><td>ScoreInfo</td><td>The option reStore in the proc superlearner statement needs to be provided</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="base-learner-requirements">Base Learner Requirements<a href="#base-learner-requirements" class="hash-link" aria-label="Direct link to Base Learner Requirements" title="Direct link to Base Learner Requirements" translate="no">​</a></h3>
<p>We did not cover all of the base learners and all of their requirements in the section above. This here serves as an additional point of information providing an overview when a certain base learner can be used and if it has any specific requirements. The assumption here is that you have defined at least one input variable (independant of it being nominal or interval).</p>
<table><thead><tr><th>Name</th><th>Supported Targets</th><th>Input Requirements</th></tr></thead><tbody><tr><td>BART</td><td>Both</td><td>-</td></tr><tr><td>BNET</td><td>Binary</td><td>-</td></tr><tr><td>FACTMAC</td><td>Continuous</td><td>At least two nominal</td></tr><tr><td>FOREST</td><td>Both</td><td>-</td></tr><tr><td>GAMMOD</td><td>Both</td><td>-</td></tr><tr><td>GAMSELECT</td><td>Both</td><td>-</td></tr><tr><td>GPCLASS</td><td>Binary</td><td>Only interval</td></tr><tr><td>GPREG</td><td>Continuous</td><td>Only interval</td></tr><tr><td>GRADBOOST</td><td>Both</td><td>-</td></tr><tr><td>LIGHTGRADBOOST</td><td>Both</td><td>-</td></tr><tr><td>LOGSELECT</td><td>Binary</td><td>-</td></tr><tr><td>NNET</td><td>Both</td><td>-</td></tr><tr><td>REGSELECT</td><td>Continuous</td><td>-</td></tr><tr><td>SVMACHINE</td><td>Both</td><td>-</td></tr><tr><td>TREESPLIT</td><td>Both</td><td>-</td></tr></tbody></table>
<p>If we take that into account than we can derive the following maxed out superLearner for our problem (while using a minimal amout of inputs):</p>
<div class="language-sas codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sas codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token step keyword" style="font-style:italic">proc superLearner</span><span class="token plain"> </span><span class="token proc-args arg keyword" style="font-style:italic">data</span><span class="token proc-args"> </span><span class="token proc-args operator" style="color:rgb(137, 221, 255)">=</span><span class="token proc-args"> </span><span class="token proc-args arg-value">work.hmeq</span><span class="token proc-args punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    target bad </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> level </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> nominal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token input keyword" style="font-style:italic">input</span><span class="token input"> loan;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Bayesian_Additive_RegTree&#x27;</span><span class="token plain"> bart</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Bayesian_Network_Model&#x27;</span><span class="token plain"> bNet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Random_Forest&#x27;</span><span class="token plain"> forest</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Generalized_Additve_LowRank&#x27;</span><span class="token plain"> gamMod</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Generalized_Additive_Selection&#x27;</span><span class="token plain"> gamSelect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Gaussian_Process_Class&#x27;</span><span class="token plain"> gpClass</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Gradient_Boosting&#x27;</span><span class="token plain"> gradBoost</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Light_Gradient_Boosting&#x27;</span><span class="token plain"> lightGradBoost</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Logistic_Regression_Model&#x27;</span><span class="token plain"> logSelect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Neural_Network&#x27;</span><span class="token plain"> nNet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Support_Vector_Machine&#x27;</span><span class="token plain"> svMachine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    baseLearner </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Decision_Tree&#x27;</span><span class="token plain"> treeSplit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token step keyword" style="font-style:italic">quit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<p>FACTMAC, GPREG and REGSELECT had to be left off as they do not support binary targets and also note how we only used a singular interval input in order to statisfy the constraint of the GPCLASS.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/The-SAS-Viya-Guide/procs/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Intro</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#getting-started" class="table-of-contents__link toc-highlight">Getting Started</a><ul><li><a href="#step-1-data--minimal-proc" class="table-of-contents__link toc-highlight">Step 1: Data &amp; Minimal Proc</a></li><li><a href="#step-2-more-inputs--base-learners" class="table-of-contents__link toc-highlight">Step 2: More Inputs &amp; Base Learners</a></li><li><a href="#step-3-options-for-the-base-learners" class="table-of-contents__link toc-highlight">Step 3: Options for the Base Learners</a></li><li><a href="#step-4-crossvalidation-margins-and-proc-options" class="table-of-contents__link toc-highlight">Step 4: Crossvalidation, Margins and Proc Options</a></li><li><a href="#step-5-outputs-storing-and-scoring" class="table-of-contents__link toc-highlight">Step 5: Outputs, Storing and Scoring</a></li></ul></li><li><a href="#additional-topics" class="table-of-contents__link toc-highlight">Additional topics</a><ul><li><a href="#getting-the-result-tables-as-sas-tables" class="table-of-contents__link toc-highlight">Getting the Result Tables as SAS Tables</a></li><li><a href="#base-learner-requirements" class="table-of-contents__link toc-highlight">Base Learner Requirements</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>